"use strict";$(document).ready(function(){function t(t,e){var a=$(t);""!=a.val()?a.addClass("has-content"):e&&a.prop("defaultValue")?a.val(a.prop("defaultValue")):a.removeClass("has-content")}function e(t,e){r.html(t.title),n.html(t.html),a(n),n.fadeIn(500,function(){i.removeClass("spin")}),history.pushState({title:t.title,html:t.html,ajaxUrl:e},t.title,t.path),window.__sharethis__.initialize()}function a(a){var a=$(a);$(a).find(o).each(function(){t(this,!0)}),$(a).find(o).focusout(function(){t(this,!1)}),$(a).find("select").select2({minimumResultsForSearch:-1,width:"100%"});var r={scaleColor:!1,trackColor:"#E7F7F5",barColor:"rgba(51,153,255,0.8)",lineWidth:6,lineCap:"butt",size:95,animate:1e3};if($(a).find(".statistic").easyPieChart(r),document.getElementById("finances-chart")){var s=window.user_statistics||{current:[],previous:[]},l=s.current.length<s.previous.length?s.current.length:s.previous.length;s.current=s.current.slice(-1*l),s.previous=s.previous.slice(-1*l);for(var d=[],u=0;u<l;u++)d[u]="";l>=3&&(d[0]="Beginning",d[Math.round(l/2)]="Middle",d[l-1]="End");var c=document.getElementById("health-chart").getContext("2d"),h=document.getElementById("finances-chart").getContext("2d"),p={type:"line",data:{labels:d,datasets:[{label:"Current month",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:s.current.map(function(t){return t.health_value}),fill:!1},{label:"Previous month",backgroundColor:"rgb(54, 162, 235)",borderColor:"rgb(54, 162, 235)",data:s.previous.map(function(t){return t.health_value}),fill:!1}]},options:{responsive:!0,title:{display:!1,text:"Spendings comparation"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Month"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Spendings"}}]}}};new Chart(c,p),new Chart(h,p)}if($(a).find("#user-login-form").ajaxForm({cache:!1,url:"ajax.php?action=login",type:"post",beforeSubmit:function(t,e){i.addClass("spin"),$(e).addClass("readonly")},success:function(t){t.args.hasOwnProperty("uid")&&Cookies.set("uid",t.args.uid),e(t,"ajax.php?action=login"),$(this).removeClass("readonly")}}),$(a).find("#user-upload-form").ajaxForm({cache:!1,url:"ajax.php?action=upload",type:"post",beforeSubmit:function(t,e){i.addClass("spin"),$(e).addClass("readonly")},success:function(t){t.args.hasOwnProperty("success"),e(t,"ajax.php?action=upload"),$(this).removeClass("readonly")}}),$(a).find("#user-label-food-form").ajaxForm({cache:!1,url:"ajax.php?action=labelFood2&uid="+Cookies.get("uid"),type:"post",beforeSubmit:function(t,e){i.addClass("spin"),$(e).addClass("readonly")},success:function(t){t.args.hasOwnProperty("success"),e(t,"ajax.php?action=dashboard"),$(this).removeClass("readonly")}}),$(a).find("a[data-href]").on("click",function(t){var a=$(this),o=a.attr("data-href");return i.addClass("spin"),n.fadeOut(500),$.get(o,function(t){t.args.hasOwnProperty("logout")&&Cookies.remove("uid"),e(t,o)}),t.preventDefault(),!1}),void 0!==Cookies.get("uid")){$("body").addClass("user-logged-in");var f=$("a.site-logo").attr("href"),g=$("a.site-logo").attr("data-href");f=f.replace("login","dashboard"),g=g.replace("login","dashboard"),$("a.site-logo").attr("href",f),$("a.site-logo").attr("data-href",g)}else{$("body").removeClass("user-logged-in");var f=$("a.site-logo").attr("href"),g=$("a.site-logo").attr("data-href");f=f.replace("dashboard","login"),g=g.replace("dashboard","login"),$("a.site-logo").attr("href",f),$("a.site-logo").attr("data-href",g)}}var o="input[type=text],input[type=password],input[type=email],input[type=number],input[type=date]",r=$("title"),n=$("#page-content"),i=$("#logo svg");void 0!==history.state&&null!=history.state||history.replaceState({title:r.html(),html:n.html(),path:document.location.href},r.html(),document.location.href),$(window).bind("popstate",function(t){var e=t.originalEvent.state;void 0!==e&&null!=e&&(r.html(e.title),n.html(e.html),a(n))}),a("html")});
//# sourceMappingURL=maps/script.min.js.map
